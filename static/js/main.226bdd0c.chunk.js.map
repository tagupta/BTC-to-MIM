{"version":3,"sources":["reportWebVitals.js","index.js","App.js","components/Welcome/Welcome.jsx","components/Header/Header.jsx","components/Balance/Balance.jsx","components/Message/Message.jsx","components/Footer/Footer.jsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","App","document","getElementById","contractAddress","defiAddress","mimAddress","boosterAddress","AppDiv","styled","div","addZeroToString","str1","str2","length","addTwoBigNumbers","a","b","sum","carry","array","i","split","parseInt","push","reverse","join","props","componentDidMount","window","ethereum","web3Provider","enable","logError","web3","currentProvider","Web3","eth","getAccounts","address","net","getId","setState","updates","state","basicContract","Contract","ABI","methods","getRenERC20","call","renAddress","console","log","handleTBTCBalance","userBalance","balance","toString","deposit","amount","renJS","nonce","utils","keccak256","Buffer","from","lockAndMint","asset","Bitcoin","to","Ethereum","sendTo","contractFn","contractParams","name","type","value","mint","gatewayAddress","on","hash","txHash","depositLog","msg","isOpen","transactionExplorerLink","depositDetails","transaction","status","confirmed","target","confs","signed","queryTx","tx","out","revert","temporaryMint","nhash","signature","send","error","handleClose","mintingMIM","Error","RENERC20","renBTC","wBTC","MoneyToCurve","renBTCToCRV","Booster","booster","renBalance","_renBalance","time","interval","setInterval","clearInterval","approve","multiStepDeposit","poolInfo","_pool","mimCollateral","token","cvxrencrvDeposits","cvxrencrvBalance","mim_borrow","fromWei","data_0","ethers","defaultAbiCoder","encode","data_1","toWei","data_2","data_3","data_4","cookCalling","withdraw","withdrawalAmt","MIM","mim","mimBorrowed","_mimBorrowed","rbtcDeposits","maxDeposit","balanceOf","userMIMBalance","multiStepWithdraw","alert","recipient","prompt","burnAndRelease","Address","btcAddress","toSmallestUnit","confirmations","burn","String","release","message","handleToggle","handleMax","max","handleUserMimBalance","mimm","tokens","BigNumber","dividedBy","toPrecision","handleDetails","open","openDetails","userShare","mimBorrow","handleCRVBalance","err","fetch","handleFetch","claim","handleClaim","userAddress","sx","color","zIndex","theme","drawer","RenJS","useV2TransactionFormat","disableWithdraw","React","Component","Welcome","this","onClose","id","style","onClick","autoFocus","AppHeader","header","Header","display","fontSize","CssTextField","TextField","borderBottomColor","borderColor","Balance","getBalance","event","errorMsg","showAlert","handleDeposit","catch","handleWithdraw","textInput","current","handleClick","e","preventDefault","closeAlert","createRef","severity","className","justifyContent","label","defaultValue","onChange","size","textAlign","variant","inputRef","marginRight","disabled","disable","Div","Message","map","line","uuidv4","Footer","handleChange","newValue","displayData","width","showLabels","icon"],"mappings":"wVAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAA,EAAD,MAEFC,SAASC,eAAe,SAM1Bd,K,kytBCUMe,EAAkB,6CAGlBC,EAAe,6CAGfC,EAAa,6CACbC,EAAiB,6CAEjBC,EAASC,IAAOC,IAAV,sEAKZ,SAASC,EAAgBC,EAAMC,GAC7B,KAAOD,EAAKE,OAASD,EAAKC,QACtBD,EAAO,IAAMA,EAEjB,OAAOA,EAGT,SAASE,EAAiBC,EAAGC,GACvBD,EAAEF,OAASG,EAAEH,OACbG,EAAIN,EAAgBK,EAAEC,GAEtBD,EAAIL,EAAgBM,EAAED,GAM1B,IAJA,IACIE,EAAM,EACNC,EAAQ,EACRC,EAAQ,GACHC,EAJAL,EAAEM,MAAM,IAIDR,OAAO,EAAGO,GAAK,EAAGA,KAC9BH,EAAMK,SAASP,EAAEK,IAAME,SAASN,EAAEI,IAAME,SAASJ,KACtC,IACPA,EAAQ,EACRD,GAAY,IAEZC,EAAQ,EAEZC,EAAMI,KAAKN,GAGf,OADAE,EAAMK,UAAUC,KAAK,IACdN,EAAMM,KAAK,I,IAGdzB,E,kDACJ,WAAY0B,GAAO,IAAD,8BAChB,cAAMA,IAcRC,kBAfkB,sBAeE,gCAAAZ,EAAA,0DAEda,OAAOC,SAFO,wBAGhBC,EAAeF,OAAOC,SAHN,kBAKRD,OAAOC,SAASE,SALR,8DAOd,EAAKC,SAAS,4CAPA,uDAUPJ,OAAOK,KAVA,iBAWhBH,EAAeF,OAAOK,KAAKC,gBAXX,+BAchB,EAAKF,SAAS,4BAdE,kCAkBZC,EAAQ,IAAIE,IAAKL,GAlBL,UAmBKG,EAAKG,IAAIC,cAnBd,eAmBZC,EAnBY,OAmB6B,GAnB7B,UAoBML,EAAKG,IAAIG,IAAIC,QApBnB,WAqBA,KArBA,+BAsBhB,EAAKR,SAAS,qCAtBE,2BA0BlB,EAAKS,SAAS,CAACR,OAAMK,YAAU,WAC7B,EAAKI,aA3BW,yDAfF,EA8ClBA,QA9CkB,sBA8CR,gCAAA3B,EAAA,6DAEDkB,EAAQ,EAAKU,MAAbV,KACDW,EAAgB,IAAIX,EAAKG,IAAIS,SAASC,EAAK3C,GAHzC,SAIiByC,EAAcG,QAAQC,cAAcC,OAJrD,OAIFC,EAJE,OAMR,EAAKT,SAAS,CAACS,aAAaN,kBAC5BO,QAAQC,IAAI,kBAAmBF,GAPvB,2CA9CQ,EAyDlBG,kBAzDkB,sBAyDE,kCAAAtC,EAAA,+DACe,EAAK4B,MAA/BL,EADW,EACXA,QAASM,EADE,EACFA,cADE,SAEIA,EAAcG,QAAQO,YAAYhB,GAASW,OAF/C,OAEZM,EAFY,OAGlB,EAAKd,SAAS,CAACc,QAASjC,SAASiC,EAAQC,YAAjB,SAA+B,GAAM,KAH3C,2CAzDF,EA+DlBC,QA/DkB,uCA+DR,WAAOC,GAAP,2BAAA3C,EAAA,+DACwC,EAAK4B,MAA7CL,EADA,EACAA,QAASL,EADT,EACSA,KAAMW,EADf,EACeA,cAAee,EAD9B,EAC8BA,MACtC,EAAKP,IAAL,iCAEMQ,EAAQC,QAAMC,UAAUC,EAAOC,KAAK,MAJlC,SAKWL,EAAMM,YAAY,CACnCC,MAAO,MACPF,KAAMG,cACNC,GAAIC,YAASpC,EAAKC,iBAAiBW,SAAS,CAC1CyB,OAAQnE,EACRoE,WAAY,gBACZC,eAAgB,CACd,CACEC,KAAM,KACNC,KAAM,UACNC,MAAOrC,GAET,CACEmC,KAAM,QACNC,KAAM,UACNC,MAAOf,QApBP,OAKFgB,EALE,OA0BR,EAAKxB,IAAL,kBAAoBM,EAApB,mBAAqCkB,EAAKC,iBAE1CD,EAAKE,GAAG,UAAR,uCAAmB,WAAOrB,GAAP,mBAAA1C,EAAA,6DAEXgE,EAAOtB,EAAQuB,SACfC,EAAa,SAACC,GAEhB,EAAKzC,SAAS,CAAC0C,QAAQ,IACvB,EAAK/B,IAAL,uBACkBe,IAAQN,MAAMuB,wBAC5B3B,EAAQ4B,eAAeC,YACvB,WAHJ,uCAKgBP,EALhB,mCAMYtB,EAAQ8B,OANpB,2BAOIL,KAbS,SAiBXzB,EACH+B,YACAV,GAAG,UAAU,SAACW,GAAD,OAAYR,EAAW,KAAD,OAAMQ,EAAN,sBACnCX,GAAG,gBAAgB,SAACY,EAAOD,GAAR,OAClBR,EAAW,GAAD,OAAIS,EAAJ,YAAaD,EAAb,sBArBG,uBAwBXhC,EACHkC,SAEAb,GAAG,UAAU,SAACS,GAAD,OAAYN,EAAW,WAAD,OAAYM,OA3BjC,uBA6BA9B,EAAQmC,UA7BR,YA6BXC,EA7BW,QA8BRC,KAAQD,EAAGC,IAAIC,OA9BP,kCA+BPnD,EAAcG,QAAQiD,cAAc1D,EAASsB,EAAO,MAAOiC,EAAGC,IAAIpC,OAAOF,WAAYqC,EAAGC,IAAIG,MAAOJ,EAAGC,IAAII,WAAWC,KAAK,CAACnC,KAAM1B,IAAS,SAAC8D,EAAMpB,GAClJoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,gBAGL,EAAKjD,IAAI,0BAET,EAAKkD,iBAvCI,sCA2Cb,EAAKD,cACC,IAAIE,MAAM,iCA5CH,QA+CjB,EAAKnD,IAAL,oBAAsBM,EAAtB,UA/CiB,4CAAnB,uDA5BQ,2CA/DQ,wDA8IlB4C,WA9IkB,sBA8IL,oDAAAvF,EAAA,+DAC0C,EAAK4B,MAAlDL,EADG,EACHA,QAASL,EADN,EACMA,KAAMiB,EADZ,EACYA,WAAYN,EADxB,EACwBA,cADxB,SAEU,IAAIX,EAAKG,IAAIS,SAAS2D,EAAUtD,EAAW,CAACc,KAAM1B,IAF5D,cAELmE,EAFK,gBAGQ,IAAIxE,EAAKG,IAAIS,SAAS2D,EA3LzB,6CA2LgD,CAACxC,KAAM1B,IAH5D,cAGLoE,EAHK,gBAIe,IAAIzE,EAAKG,IAAIS,SAAS8D,EAAavG,EAAY,CAAC4D,KAAK1B,IAJpE,cAILsE,EAJK,iBAKW,IAAI3E,EAAKG,IAAIS,SAASgE,EAAQvG,EAAe,CAAC0D,KAAM1B,IAL/D,eAKLwE,EALK,iBAOYlE,EAAcG,QAAQO,YAAYhB,GAASW,OAPvD,QAOP8D,EAPO,OAQPC,EAAc,EAClB7D,QAAQC,IAAI,uBAAyB2D,GACjCE,EAAO,EACPC,EAAWC,YAAW,sBAAC,4CAAApG,EAAA,6DACzBkG,GAAQ,IADiB,SAELrE,EAAcG,QAAQO,YAAYhB,GAASW,OAFtC,aAEzB+D,EAFyB,QAGRD,GAHQ,wBAIvBK,cAAcF,GACd/D,QAAQC,IAAI,iCAAmC4D,EAAY,KAAD,IAAE,GAAM,IAL3C,SAMjBP,EAAO1D,QAAQsE,QAAQjH,EAAa4G,GAAab,KAAK,CAACnC,KAAM1B,IAAS,SAAC8D,EAAMpB,GAC9EoB,GACC,EAAKpE,SAASoE,GACd,EAAKC,eAGP,EAAKjD,IAAI,oBAZU,wBAgBjBsD,EAAK3D,QAAQsE,QAAQjH,EAAY,GAAG+F,KAAK,CAACnC,KAAM1B,IAAS,SAAC8D,EAAMpB,GACjEoB,GACC,EAAKpE,SAASoE,GACd,EAAKC,eAGN,EAAKjD,IAAI,oBAtBS,yBA0BjBwD,EAAY7D,QAAQuE,iBAAiB,CAACN,EAAY,IAAIb,KAAK,CAACnC,KAAM1B,IAAS,SAAC8D,EAAMpB,GACnFoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,eAGL,EAAKjD,IAAL,oBAAsB4D,EAAY,KAAD,IAAC,GAAM,GAAxC,gBAhCmB,yBAoCLF,EAAQ/D,QAAQwE,SAAS,GAAGtE,OApCvB,eAoCnBuE,EApCmB,OAqCnBC,EAAgBD,EAAME,MArCH,UAwCMd,EAAY7D,QAAQ4E,kBAAkBrF,GAASW,OAxCrD,eAwCnB2E,EAxCmB,OA4CnBC,EAAuE,WAA1D5F,EAAK4B,MAAMiE,QAAQF,EAAiBpE,WAAW,SAAwB,IAEpFuE,EAASC,IAAOnE,MAAMoE,gBAAgBC,OAAQ,CAAC,UAAU,UAAW,QAAQ,CAAC9H,EAhPjE,8CAgP+F,IAE3G+H,EAASH,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,SAAS,WAAW,CAACjG,EAAK4B,MAAMuE,MAAMP,EAAWrE,WAAW,SAAUpD,IAEpHiI,EAASL,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,UAAU,UAAU,SAAS,UAAU,CAAC7H,EAAYD,EAAY6B,EAAK4B,MAAMuE,MAAMP,EAAWrE,WAAW,SAAS,IAE9J8E,EAASN,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,UAAU,UAAU,SAAS,UAAU,CAACT,EAAerH,EAAawH,EAAkBpE,WAAW,IAE/I+E,EAASP,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,SAAS,UAAU,QAAQ,CAAC,EAAE9H,GAAY,IAtDrE,UAwDjBwG,EAAY7D,QAAQyF,YAAY,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAACT,EAAOI,EAAOE,EAAOC,EAAOC,IAAQ,EAAM,GAAGpC,KAAK,CAACnC,KAAM1B,EAAQqC,MAAO,IAAG,SAACyB,EAAOpB,GACjJoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,eAGL,EAAKjD,IAAI,oCA9DU,QAmEzBD,QAAQC,IAAI,SAAU6D,GAnEG,4CAoExB,KACH,EAAKZ,cAhFM,4CA9IK,EAiOlBoC,SAjOkB,uCAiOP,WAAMC,GAAN,6DAAA3H,EAAA,6DACT,EAAK0B,SAAS,CAAC0C,QAAQ,IACvB,EAAKnD,SAAS,IAFL,EAIoC,EAAKW,MAA1CL,EAJC,EAIDA,QAASL,EAJR,EAIQA,KAAMiB,EAJd,EAIcA,WAAYS,EAJ1B,EAI0BA,MAJ1B,SAKiB,IAAI1B,EAAKG,IAAIS,SAAS8D,EAAavG,EAAY,CAAC4D,KAAK1B,IALtE,cAKHsE,EALG,gBAMS,IAAI3E,EAAKG,IAAIS,SAAS8F,EAAItI,EAAW,CAAC2D,KAAM1B,IANrD,cAMHsG,EANG,iBAOa,IAAI3G,EAAKG,IAAIS,SAASgE,EAAQvG,EAAe,CAAC0D,KAAM1B,IAPjE,eAOHwE,EAPG,iBASeF,EAAY7D,QAAQ8F,YAAYvG,GAASW,OATxD,eASL4F,EATK,OAULC,EAAehI,EAAiB+H,EAAYrF,YAAY,WAAI,GAAM,KAAIA,YAVjE,UAWgBoD,EAAY7D,QAAQgG,aAAazG,GAASW,OAX1D,eAWH+F,EAXG,iBAYSlC,EAAQ/D,QAAQwE,SAAS,GAAGtE,OAZrC,eAYLuE,EAZK,OAaLC,EAAgBD,EAAME,MAbjB,UAeoBd,EAAY7D,QAAQ4E,kBAAkBrF,GAASW,OAfnE,eAeL2E,EAfK,iBAgBkBgB,EAAI7F,QAAQkG,UAAU3G,GAASW,OAhBjD,WAgBLiG,EAhBK,SAkBNR,GAAkBI,EAAa,KAAD,IAAC,GAAM,KAAOJ,GAAkBQ,EAAe,KAAD,IAAC,GAAI,KAlB3E,uBAmBPR,GAA6B,SAAI,GAAM,KAEpB,GArBZ,kCAuBCE,EAAI7F,QAAQsE,QAAQjH,EAAY0I,GAAc3C,KAAK,CAACnC,KAAM1B,IAAS,SAAC8D,EAAOpB,GAC5EoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,eAGL,EAAKjD,IAAL,0CA7BC,eAkCD2E,EAASC,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,UAAU,UAAU,SAAS,UAAU,CAAC7H,EAAWD,EAAa0I,EAActF,WAAW,IAGvI2E,EAASH,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,SAAS,UAAU,QAAQ,CAAEW,EAAarF,WAAWpD,GAAY,IAG/GiI,EAASL,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,SAAS,WAAW,CAAC,EAAE9H,IAGrEkI,EAASN,IAAOnE,MAAMoE,gBAAgBC,OAAO,CAAC,UAAU,UAAU,SAAS,UAAU,CAACT,EAAcrH,EAAawH,EAAkBpE,WAAW,IA3C7I,UA6CCoD,EAAY7D,QAAQyF,YAAY,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,CAACT,EAAOI,EAAOE,EAAOC,IAAQ,EAAMQ,EAActF,YAAY2C,KAAK,CAACnC,KAAM1B,EAASqC,MAAO,IAAG,SAACyB,EAAOpB,GAC5JoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,eAGL,EAAKjD,IAAL,qCAnDC,yBAuDCwD,EAAY7D,QAAQoG,kBAAkB,CAACH,EAAWxF,WAAW,MAAM2C,KAAK,CAACnC,KAAM1B,IAAS,SAAC8D,EAAMpB,GAChGoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,eAGL,EAAKjD,IAAL,oBAAsB4F,EAAtB,sBA7DC,uCAkELI,MAAM,8BACN,EAAK/C,cAnEA,4CAuEc,IAAIpE,EAAKG,IAAIS,SAAS2D,EAAUtD,EAAW,CAACc,KAAM1B,IAvEhE,eAuEDmE,EAvEC,iBAwEDA,EAAO1D,QAAQsE,QAAQlH,EAAiB6I,GAAY7C,KAAK,CAACnC,KAAK1B,IAAS,SAAC8D,EAAMpB,GAChFoB,GACD,EAAKpE,SAASoE,GACd,EAAKC,eAGL,EAAKjD,IAAI,oBA9EN,eAkFDiG,EAAYC,OAAO,wBACnB5F,EAASsF,EAAU,SAAI,GAAM,GAnF5B,UAqFsBrF,EAAM4F,eAAe,CAChDrF,MAAO,MACPE,GAAID,cAAUqF,QAAQH,GACtBrF,KAAMK,YAASpC,EAAKC,iBAAiBW,UAAS,SAAC4G,GAAD,MAAiB,CAC7DnF,OAAQnE,EAERoE,WAAY,gBAEZC,eAAgB,CACd,CACEE,KAAM,QACND,KAAM,OACNE,MAAOZ,EAAOC,KAAP,sBAA2BN,EAA3B,UAET,CACEgB,KAAM,QACND,KAAM,MACNE,MAAO8E,GAET,CACE/E,KAAM,UACND,KAAM,UACNE,MAAOhB,EAAME,MAAM6F,eAAehG,EAAQ,IAE5C,CACEgB,KAAM,UACND,KAAM,OACNE,MAAOrC,UAhHR,eAqFDiH,EArFC,OAsHHI,EAAgB,EAtHb,UAwHDJ,EACLK,OAEA9E,GAAG,gBAAgB,SAACY,GACnBiE,EAAgBjE,KAGjBZ,GAAG,mBAAmB,SAACE,GAAD,OAAY,EAAK5B,IAAL,kBAAoByG,OAAO7E,QA/HvD,yBAiIDuE,EACHO,UAEAhF,GAAG,UAAU,SAACS,GAAD,MACD,eAAXA,EACI,EAAKnC,IAAL,UAAYmC,EAAZ,aAAuBoE,EAAvB,SACA,EAAKvG,IAAImC,MAGdT,GAAG,SAAU,EAAK1B,KA1Id,QA4IP,EAAKA,IAAL,mBAAqBM,EAArB,mBAAsC2F,EAAtC,MA5IO,wBA+IPD,MAAM,8BACN,EAAK/C,cAhJE,QAkJT,EAAKA,cAlJI,4CAjOO,wDAsXlBrE,SAAW,SAACoE,GACZjD,QAAQiD,MAAMA,GACd,EAAK3D,SAAS,CAAC2D,MAAOyD,QAAQzD,GAAS,IAAI2D,SAAW3D,MAxXpC,EA2XlBhD,IAAM,SAAC2G,GACL,EAAKtH,SAAS,CAACsH,aA5XC,EA+XlB1D,YAAc,WACZ,EAAK5D,SAAS,CAAC0C,QAAQ,KAhYP,EAmYlB6E,aAAe,WACb,IAAO7E,EAAW,EAAKxC,MAAhBwC,OACP,EAAK1C,SAAS,CAAC0C,QAASA,KArYR,EAwYlB8E,UAxYkB,sBAwYN,wCAAAlJ,EAAA,6DACV,EAAK0B,SAAS,CAAC0C,QAAQ,IADb,EAEa,EAAKxC,MAArBL,EAFG,EAEHA,QAAQL,EAFL,EAEKA,KAFL,SAGgB,IAAIA,EAAKG,IAAIS,SAAS8D,EAAavG,EAAY,CAAC4D,KAAK1B,IAHrE,cAGJsE,EAHI,gBAIcA,EAAY7D,QAAQ8F,YAAYvG,GAASW,OAJvD,OAIN4F,EAJM,OAKNC,EAAehI,EAAiB+H,EAAYrF,YAAY,WAAI,GAAM,KAAIA,YACpE0G,EAAMpB,EACZ,EAAKrG,SAAS,CAACuG,WAAYkB,EAAI,KAAD,IAAC,GAAM,MACrC,EAAK7D,cARK,4CAxYM,EAmZlB8D,qBAnZkB,sBAmZK,sCAAApJ,EAAA,+DACE,EAAK4B,MAArBL,EADc,EACdA,QAAQL,EADM,EACNA,KADM,SAEF,IAAIA,EAAKG,IAAIS,SAAS8F,EAAItI,EAAW,CAAC2D,KAAM1B,IAF1C,cAEf8H,EAFe,gBAGMA,EAAKrH,QAAQkG,UAAU3G,GAASW,OAHtC,OAGjBiG,EAHiB,OAIjBmB,EAAS,IAAIC,IAAUpB,GAAgBqB,UAA9B,SAAwC,GAAM,KAC3D,EAAK9H,SAAS,CAACyG,eAAgBmB,EAAOG,YAAY,MAL7B,2CAnZL,EAwalBC,cAAgB,SAACC,GACf,EAAKjI,SAAS,CAACkI,YAAaD,KAzaZ,EA4alB5K,OAAS,WACP,MAA6F,EAAK6C,MAA1FoH,EAAR,EAAQA,QAAS3D,EAAjB,EAAiBA,MAAOjB,EAAxB,EAAwBA,OAAQ6D,EAAhC,EAAgCA,WAAY4B,EAA5C,EAA4CA,UAAWtI,EAAvD,EAAuDA,QAAQ4G,EAA/D,EAA+DA,eAAeyB,EAA9E,EAA8EA,YAC9E,OACE,eAACpK,EAAD,WACE,cAAC,IAAD,CAASoK,YAAaA,EACbF,cAAe,EAAKA,gBAC7B,cAAC,IAAD,IACA,cAAC,IAAD,CAASI,UAAa7B,EACbiB,UAAa,EAAKA,UAClBa,iBAAoB,EAAKA,iBACzBrH,QAAW,EAAKA,QAChBgF,SAAY,EAAKA,SACjBzG,SAAY,EAAKA,WAE1B,cAAC,IAAD,CAASkD,IAAO6E,EAASgB,IAAO3E,IAEhC,cAAC,IAAD,CAAQ4E,MAAO,EAAKC,YACZC,MAAO,EAAKC,YACZP,UAAWA,EACXQ,YAAa9I,EACb4G,eAAkBA,EAClBiB,qBAAwB,EAAKA,qBAC7BM,cAAe,EAAKA,gBAE5B,cAAC,IAAD,CAAUY,GAAI,CAAEC,MAAO,OAAQC,OAAQ,SAACC,GAAD,OAAWA,EAAMD,OAAOE,OAAS,IAC9Df,KAAMvF,EADhB,SAEE,cAAC,IAAD,CAAkBmG,MAAM,kBApc9B,EAAK3I,MAAQ,CACXY,QAAU,EACVwG,QAAU,GACV3D,MAAQ,GACRzC,MAAO,IAAI+H,IAAM,UAAW,CAAEC,wBAAwB,IACtDxG,QAAQ,EACRyG,iBAAiB,EACjB5C,WAAY,EACZ4B,UAAW,GACXD,aAAa,GAXC,E,UADFkB,IAAMC,WA8cT9L,Q,umGC3gBM+L,E,4MAEnB1F,YAAc,WACd,EAAK3E,MAAM+I,eAAc,I,4CAGzB,WAEE,OACM,8BACE,eAAC,IAAD,CAAQC,KAAMsB,KAAKtK,MAAMiJ,YACjBsB,QAASD,KAAK3F,YACd,kBAAgB,qBAChB,mBAAiB,2BAHzB,UAII,cAAC,IAAD,CAAa6F,GAAG,qBAAhB,SACA,iCAAQ,mBAAGA,GAAG,aAAN,SAAoB,uCAE5B,cAAC,IAAD,UACI,eAAC,IAAD,CAAmBA,GAAG,2BAAtB,UAEO,wBAAQC,MAAO,CAACb,MAAM,WAAtB,sCAAmE,uBAF1E,2DAKO,uBAAS,uBACT,wBAAQa,MAAO,CAACb,MAAM,WAAtB,2BAAwD,uBAN/D,2EAO+E,uBAP/E,+EAQmF,uBARnF,iBASqB,uBATrB,gCAUoC,uBAVpC,gDAWoD,uBAXpD,iEAeJ,cAAC,IAAD,CAAeY,GAAG,eAAlB,SACI,cAAC,IAAD,CAAQA,GAAG,aAAaE,QAASJ,KAAK3F,YAAagG,WAAS,EAA5D,SAA6D,wD,GAlC5CP,c,mKCL/BQ,EAAY9L,IAAO+L,OAAV,2MAUMC,E,4JACjB,WACI,OACI,cAACF,EAAD,UACA,sBAAKH,MAAO,CAACM,QAAS,YAAtB,UACI,cAAC,IAAD,CAAyBpB,GAAI,CAAEqB,SAAU,MACzC,6BAAI,oE,GANgBZ,c,6MCN9Ba,EAAenM,YAAOoM,IAAPpM,CAAkB,CACnC,sBAAuB,CACvB8K,MAAO,WAEP,8BAA+B,CAC/BuB,kBAAmB,WAEnB,2BAA4B,CAC5B,aAAc,CACVC,YAAa,WAEjB,mBAAoB,CAChBA,YAAa,WAEjB,yBAA0B,CACtBA,YAAa,cAKAC,E,kDACjB,WAAarL,GAAO,IAAD,8BACjB,cAAMA,IASRsL,WAVmB,uCAUN,WAAOC,GAAP,SAAAlM,EAAA,6DACNkM,EAAMxH,OAAOd,MAAQ,GACpB,EAAKlC,SAAS,CAACyK,SAAU,mCAAmCC,WAAY,IAFnE,SAIJ,EAAK1K,SAAS,CAACc,QAAS0J,EAAMxH,OAAOd,QAJjC,OAKVxB,QAAQC,IAAI,EAAKT,MAAMY,SALb,2CAVM,wDAkBnB6J,cAAgB,WACZ,IAAO7J,EAAW,EAAKZ,MAAhBY,QACP,EAAK7B,MAAM+B,QAAQF,GAAS8J,MAAM,EAAK3L,MAAMM,WApB9B,EAuBnBsL,eAAiB,WAEd,EAAK5L,MAAM+G,SAAS,EAAK8E,UAAUC,QAAQ7I,OAAO0I,MAAM,EAAK3L,MAAMM,WAzBnD,EA4BnByL,YA5BmB,uCA4BL,WAAMC,GAAN,SAAA3M,EAAA,6DACV2M,EAAEC,iBADQ,SAEJ,EAAKjM,MAAMuI,YAFP,OAGV,EAAKsD,UAAUC,QAAQ7I,MAAQ,EAAKjD,MAAMmJ,UAC1C1H,QAAQC,IAAI,iCAAmC,EAAKmK,UAAUC,QAAQ7I,OAJ5D,2CA5BK,wDAkCnBiJ,WAAa,WACT,EAAKnL,SAAS,CAAC0K,WAAW,KAjC5B,EAAKI,UAAY1B,IAAMgC,YACvB,EAAKlL,MAAO,CACVY,QAAU,QACV2J,SAAS,GACTC,WAAW,GANI,E,0CAsCnB,WACI,MAAwCnB,KAAKrJ,MAAtCY,EAAP,EAAOA,QAAS4J,EAAhB,EAAgBA,UAAYD,EAA5B,EAA4BA,SAC5B,OACI,eAAC,IAAD,WACEC,EAAY,cAAC,IAAD,CAAOW,SAAS,QAAQC,UAAU,aAAa9B,QAASD,KAAK4B,WAA7D,SAA0EV,IAAoB,KACxG,sBAAKa,UAAU,6BAAf,UACI,sBAAKA,UAAU,UAAf,UACE,oBAAIA,UAAU,KAAd,uCACA,qBAAK5B,MAAS,CAAE6B,eAAgB,eAChBvB,QAAS,QADzB,SAEA,cAACE,EAAD,CAAcsB,MAAM,eACNF,UAAU,aACVrJ,KAAK,SACLwJ,aAAc,KACdC,SAAYnC,KAAKgB,WACjBoB,KAAK,YAElB,qBAAKjC,MAAS,CAACkC,UAAW,UAAWN,UAAU,YAA/C,SACC,cAAC,IAAD,CAAQO,QAAQ,YAAYhD,MAAM,YAAY8C,KAAK,QAC3ChC,QAASJ,KAAKoB,cADtB,SAEQ,8CAAiB7J,EAAjB,iBAKb,sBAAKwK,UAAU,UAAf,UACK,oBAAIA,UAAU,KAAd,uCACA,sBAAK5B,MAAQ,CAACM,QAAS,OAAOuB,eAAgB,UAA9C,UACA,cAACrB,EAAD,CAAgB4B,SAAUvC,KAAKuB,UACfU,MAAM,eACNF,UAAU,cACVrJ,KAAK,SACL0J,KAAK,QACLF,aAAclC,KAAKtK,MAAMmJ,UACzBsB,MAAS,CAACqC,YAAa,YAEvC,cAAC,IAAD,CAAQF,QAAQ,WAAWP,UAAU,YAC7BzC,MAAM,YAAY8C,KAAK,QACvBhC,QAASJ,KAAKyB,YACdgB,SAAUzC,KAAKtK,MAAMgN,QAH7B,SAGsC,8CAEtC,qBAAKvC,MAAS,CAACkC,UAAW,UAAWN,UAAU,YAA/C,SACI,cAAC,IAAD,CAAQO,QAAQ,YAAYhD,MAAM,YAAY8C,KAAK,QAC3ChC,QAASJ,KAAKsB,eACdmB,SAAUzC,KAAKtK,MAAMgN,QAF7B,SAGI,mE,GApFK5C,c,yJCxB/B6C,EAAMnO,IAAOC,IAAV,gPAUYmO,E,4JACjB,WAEI,MAAmB5C,KAAKtK,MAAjBwD,EAAP,EAAOA,IAAK6F,EAAZ,EAAYA,IACZ,OACI,cAAC,IAAD,UACI,eAAC4D,EAAD,CAAKZ,UAAU,yBAAf,UACI,mDACC7I,EAAI7D,MAAM,MAAMwN,KAAI,SAACC,GAAD,OACrB,4BAAmBA,GAAXC,kBAEPhE,EAAM,mBAAGoB,MAAO,CAAEb,MAAO,OAAnB,SAA6BP,IAAW,c,GAX9Be,c,2PCHhBkD,E,kDACjB,WAAYtN,GAAO,IAAD,8BACd,cAAMA,IAOVuN,aARkB,uCAQH,WAAOhC,EAAMiC,GAAb,SAAAnO,EAAA,yDACb,EAAK0B,SAAS,CAACkC,MAAOuK,IACN,IAAbA,EAFU,gBAGT,EAAKzM,SAAS,CAAC0M,YAAa,oDAHnB,0BAKQ,IAAbD,EALK,iCAMD,EAAKxN,MAAMyI,uBANV,OAOP,EAAK1H,SAAS,CAAC0M,YAAa,EAAKzN,MAAMwH,eAAgB,SAPhD,wBASQ,IAAbgG,EACN,EAAKzM,SAAS,CAAC0M,YAAa,eAAiB,EAAKzN,MAAM0J,cAGtD,EAAK1J,MAAM+I,eAAc,GAbhB,4CARG,wDAEd,EAAK9H,MAAQ,CACTgC,MAAO,GACPwK,YAAY,IAJF,E,0CA0BlB,WACI,MAA4BnD,KAAKrJ,MAA1BgC,EAAP,EAAOA,MAAMwK,EAAb,EAAaA,YACb,OACQ,eAAC,IAAD,CAAK9D,GAAI,CAAE+D,MAAO,KAAlB,UACI,sBAAMrB,UAAU,UAAhB,SAA2BoB,IAC/B,eAAC,IAAD,CAAkBE,YAAU,EAAC1K,MAAOA,EAAOwJ,SAAYnC,KAAKiD,aAA5D,UACI,cAAC,IAAD,CAAwBhB,MAAM,cAAcqB,KAAM,cAAC,IAAD,MAClD,cAAC,IAAD,CAAwBrB,MAAM,oBAAoBqB,KAAM,cAAC,IAAD,MACxD,cAAC,IAAD,CAAwBrB,MAAM,aAAaqB,KAAM,cAAC,IAAD,MACjD,cAAC,IAAD,CAAwBrB,MAAM,UAAUqB,KAAM,cAAC,IAAD,gB,GApC9BxD,c","file":"static/js/main.226bdd0c.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react';\nimport Web3 from \"web3\";\nimport \"./App.css\";\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport styled from 'styled-components';\nimport BigNumber from 'bignumber.js';\nimport RenJS from \"@renproject/ren\";\nimport { Bitcoin, Ethereum } from \"@renproject/chains\";\nimport {utils} from 'ethers';\nimport {ethers} from 'ethers';\n\n\nimport ABI from \"./json/ABI.json\"; //json of basic contract\nimport RENERC20 from \"./json/RenERC20.json\";\nimport MoneyToCurve from './json/MoneytoCurve.json';\nimport Booster from './json/Booster.json';\nimport MIM from './json/MIM.json';\n\nimport Welcome from './components/Welcome/Welcome';\nimport Header from './components/Header/Header';\nimport Balance from './components/Balance/Balance';\nimport Message from './components/Message/Message';\nimport Footer from './components/Footer/Footer';\n\nconst contractAddress = \"0x0095B4DAc18654bc59c38943feE47C92c51C6D62\"; // basic contract\n///const curveCRVAddress = \"0x6C0aF5282BE21338BcCB2A78fE516EA8A3530d35\";\n//const owner = \"0x9C87885Dfe734F274Da768EC985768C483BB89fa\";\nconst defiAddress  = \"0x5CA2B97161Fa8184D18ebB74838ed46eD3A3B2bF\";\nconst wBTCAddress = \"0x87F922881dA425220CC99F79A65D9C643912530E\";\nconst cauldronAddress = \"0xc69055B7E0FC1a00A6Ac426999bcb9FCc1B8B16f\"\nconst mimAddress = \"0xd8e49E22C250B71aB479f93b6a95eA0dA575B758\";\nconst boosterAddress = \"0xf0E16a8914F0a93aD97D1165c4EBd726A30961B6\";\n\nconst AppDiv = styled.div`\nfont-family: monospace;\ncolor: #b406c4;\n`;\n\nfunction addZeroToString(str1, str2){\n  while (str1.length > str2.length) {\n      str2 = \"0\" + str2;\n  }\n  return str2;\n}\n\nfunction addTwoBigNumbers(a, b) {\n  if (a.length > b.length) {\n      b = addZeroToString(a,b);\n  } else {\n      a = addZeroToString(b,a);\n  }\n  var a1 = a.split(\"\");\n  let sum = 0;\n  let carry = 0;\n  let array = [];\n  for (var i = a1.length-1; i >= 0; i--) {\n      sum = parseInt(a[i]) + parseInt(b[i]) + parseInt(carry);\n      if (sum >= 10) {\n          carry = 1;\n          sum = sum - 10;\n      } else {\n          carry = 0;\n      }\n      array.push(sum);\n  }\n  array.reverse().join(\"\");\n  return array.join(\"\");\n}\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      balance : 0,      \n      message : '',\n      error : '',\n      renJS: new RenJS(\"testnet\", { useV2TransactionFormat: true }),\n      isOpen: false,\n      disableWithdraw: true,\n      maxDeposit: 0,\n      userShare: \"\",\n      openDetails: true,\n    };\n  }\n  \n  componentDidMount = async () =>{\n    let web3Provider;\n    if (window.ethereum) {\n      web3Provider = window.ethereum;\n      try {\n        await window.ethereum.enable();\n      } catch (error) {\n        this.logError(\"Please allow access to your Web3 wallet.\");\n        return;\n      }\n    } else if (window.web3) {\n      web3Provider = window.web3.currentProvider;\n    }\n    else {\n      this.logError(\"Please install MetaMask!\");\n      return;\n    }\n    \n    const web3 =  new Web3(web3Provider);\n    const address = (await web3.eth.getAccounts())[0];\n    const networkID = await web3.eth.net.getId();\n    if (networkID !== 42) {\n      this.logError(\"Please set your network to Kovan.\");\n      return;\n    }\n  \n    this.setState({web3, address}, () => {\n      this.updates();\n    });\n  }\n\n  updates = async () => {\n   \n    const {web3} = this.state;\n    const basicContract = new web3.eth.Contract(ABI, contractAddress);\n    const renAddress = await basicContract.methods.getRenERC20().call();\n  \n    this.setState({renAddress , basicContract});\n    console.log(\"renBTCAddress: \"+ renAddress);\n    //this.log(\"Connected Account: \"+ address);\n  }\n\n  handleTBTCBalance = async () => {\n    const {address, basicContract} = this.state;\n    const balance = await basicContract.methods.userBalance(address).call();\n    this.setState({balance: parseInt(balance.toString()) / 10 ** 8});\n  }\n\n  deposit = async (amount) => {\n    const { address, web3, basicContract, renJS } = this.state;\n    this.log(`Generating deposit address...`);\n\n    const nonce = utils.keccak256(Buffer.from(\"1\"));\n    const mint = await renJS.lockAndMint({\n      asset: \"BTC\",\n      from: Bitcoin(),\n      to: Ethereum(web3.currentProvider).Contract({\n        sendTo: contractAddress,\n        contractFn: \"temporaryMint\",\n        contractParams: [\n          {\n            name: \"to\",\n            type: \"address\",\n            value: address,\n          },\n          {\n            name: \"nonce\",\n            type: \"bytes32\",\n            value: nonce,\n          }\n        ],\n      }),\n    });\n\n    this.log(`Deposit ${amount} BTC to ${mint.gatewayAddress}`);\n\n    mint.on(\"deposit\", async (deposit) => {\n    \n      const hash = deposit.txHash();\n      const depositLog = (msg) =>\n        { \n          this.setState({isOpen: true});\n          this.log(\n            `BTC deposit: ${Bitcoin.utils.transactionExplorerLink(\n              deposit.depositDetails.transaction,\n              \"testnet\"\n            )}\\n\n            RenVM Hash: ${hash}\\n\n            Status: ${deposit.status}\\n\n            ${msg}`\n          );\n        }\n    \n      await deposit\n        .confirmed()\n        .on(\"target\", (target) => depositLog(`0/${target} confirmations`))\n        .on(\"confirmation\", (confs, target) =>\n          depositLog(`${confs}/${target} confirmations`)\n        );\n    \n      await deposit\n        .signed()\n        // Print RenVM status - \"pending\", \"confirming\" or \"done\".\n        .on(\"status\", (status) => depositLog(`Status: ${status}`));\n    \n      const tx = await deposit.queryTx()\n        if (tx.out && !tx.out.revert) {\n          await basicContract.methods.temporaryMint(address, nonce, 'BTC', tx.out.amount.toString(), tx.out.nhash, tx.out.signature).send({from: address},(error,txHash)=>{\n            if(error){\n              this.logError(error);\n              this.handleClose();\n            }\n            else {\n              this.log('BTCs on ETH are minted');\n              //here's the logic for depositing renBTC to curve\n              this.mintingMIM();\n            }\n          })\n        } else {\n          this.handleClose();\n          throw new Error('revert was present on the out')\n        }\n    \n      this.log(`Deposited ${amount} BTC.`);\n    });\n  }\n\n  mintingMIM = async () => {\n    const { address, web3, renAddress, basicContract } = this.state;\n    const renBTC = await new web3.eth.Contract(RENERC20, renAddress,{from: address});\n    const wBTC = await new web3.eth.Contract(RENERC20, wBTCAddress, {from: address});\n    const renBTCToCRV = await new web3.eth.Contract(MoneyToCurve,defiAddress,{from:address});\n    const booster = await new web3.eth.Contract(Booster,boosterAddress,{from: address});\n\n    var renBalance = await basicContract.methods.userBalance(address).call();\n    var _renBalance = 0;\n    console.log(\"renBTC old balance: \" + renBalance);\n    var time = 0\n    var interval = setInterval(async () => {\n      time += 1000;\n      _renBalance = await basicContract.methods.userBalance(address).call();\n      if(_renBalance > renBalance){\n        clearInterval(interval);\n        console.log(\"renBTC Balance after minting: \" + _renBalance/ 10 ** 8);\n        await renBTC.methods.approve(defiAddress, _renBalance).send({from: address},(error,txHash)=>{\n          if(error){\n              this.logError(error);\n              this.handleClose();\n          }\n          else{\n            this.log(\"Approval: 1/2\");\n          }\n        });\n\n        await wBTC.methods.approve(defiAddress,0).send({from: address},(error,txHash)=>{\n          if(error){\n              this.logError(error);\n              this.handleClose();\n          }\n          else{\n             this.log(\"Approval: 2/2\");\n          }\n        });\n\n        await renBTCToCRV.methods.multiStepDeposit([_renBalance,0]).send({from: address},(error,txHash)=>{\n          if(error){\n            this.logError(error);\n            this.handleClose();\n          }\n          else{ \n            this.log(`Deposited ${_renBalance/10 ** 8} renBTC.`);\n          }\n        });\n\n        var _pool = await booster.methods.poolInfo(0).call();\n        var mimCollateral = _pool.token;\n\n        //Here the calling of cook funcion for abracadabra for borrowing MIM\n        var cvxrencrvBalance = await renBTCToCRV.methods.cvxrencrvDeposits(address).call();\n        //1 MIM = 1 USD\n        //1 cvxrencrv = 42304.3455 MIM\n        // Borrow balance for 25% collateralization ratio\n        var mim_borrow = web3.utils.fromWei(cvxrencrvBalance.toString(),'ether') * 42304.3455 * 0.25;\n        //ACTION_BENTO_SETAPPROVAL\n        var data_0 = ethers.utils.defaultAbiCoder.encode( [\"address\",\"address\", \"bool\"],[defiAddress, cauldronAddress, true]);\n        //ACTION_BORROW\n        var data_1 = ethers.utils.defaultAbiCoder.encode([\"int256\",\"address\"],[web3.utils.toWei(mim_borrow.toString(),'ether'), defiAddress]);\n        //ACTION_BENTO_WITHDRAW\n        var data_2 = ethers.utils.defaultAbiCoder.encode([\"address\",\"address\",\"int256\",\"int256\"],[mimAddress, defiAddress,web3.utils.toWei(mim_borrow.toString(),'ether'),0]);\n        //ACTION_BENTO_DEPOSIT\n        var data_3 = ethers.utils.defaultAbiCoder.encode([\"address\",\"address\",\"int256\",\"int256\"],[mimCollateral, defiAddress,(cvxrencrvBalance).toString(),0]);\n        //ACTION_ADD_COLLATERAL\n        var data_4 = ethers.utils.defaultAbiCoder.encode([\"int256\",\"address\",\"bool\"],[1,defiAddress,false]);\n        \n        await renBTCToCRV.methods.cookCalling([24,5,21,20,10],[0,0,0,0,0],[data_0,data_1,data_2,data_3,data_4],false,0).send({from: address,value: 0},(error, txHash) => {\n          if(error){\n            this.logError(error);\n            this.handleClose();\n          }\n          else{\n            this.log('MIM deposited in your account');\n          }\n        });\n\n      }\n      console.log(\"time: \"+ time);\n    }, 1000);\n    this.handleClose();\n  }\n\n  withdraw = async(withdrawalAmt) =>{\n    this.setState({isOpen: true});\n    this.logError(\"\"); // Reset error.\n\n    const { address, web3, renAddress, renJS } = this.state;\n    const renBTCToCRV = await new web3.eth.Contract(MoneyToCurve,defiAddress,{from:address});\n    const mim = await new web3.eth.Contract(MIM,mimAddress,{from: address});\n    const booster = await new web3.eth.Contract(Booster,boosterAddress,{from: address});\n\n    var mimBorrowed = await renBTCToCRV.methods.mimBorrowed(address).call();\n    var _mimBorrowed = addTwoBigNumbers(mimBorrowed.toString(),(1 * 10 ** 18).toString());\n    const maxDeposit = await renBTCToCRV.methods.rbtcDeposits(address).call();\n    var _pool = await booster.methods.poolInfo(0).call();\n    var mimCollateral = _pool.token;\n\n    var cvxrencrvBalance = await renBTCToCRV.methods.cvxrencrvDeposits(address).call();\n    var userMIMBalance = await mim.methods.balanceOf(address).call();\n\n    if(withdrawalAmt >= (_mimBorrowed/10 ** 18) && withdrawalAmt <= (userMIMBalance/10**18)){\n      withdrawalAmt = withdrawalAmt * (10 ** 18);\n     \n      if(withdrawalAmt > 0){\n\n        await mim.methods.approve(defiAddress,_mimBorrowed).send({from: address},(error, txHash) => {\n          if(error){\n            this.logError(error);\n            this.handleClose();\n          }\n          else{\n            this.log(`Approving Dapp to use your MIM: 1/2`);\n          }\n        });\n\n        //ACTION_BENTO_DEPOSIT\n        var data_0 = ethers.utils.defaultAbiCoder.encode([\"address\",\"address\",\"int256\",\"int256\"],[mimAddress,defiAddress,(_mimBorrowed).toString(),0]);\n        \n        //ACTION_REPAY\n        var data_1 = ethers.utils.defaultAbiCoder.encode([\"int256\",\"address\",\"bool\"],[(mimBorrowed).toString(),defiAddress,false]);\n      \n        //ACTION_REMOVE_COLLATERAL\n        var data_2 = ethers.utils.defaultAbiCoder.encode([\"int256\",\"address\"],[1,defiAddress]);\n        \n        //ACTION_BENTO_WITHDRAW\n        var data_3 = ethers.utils.defaultAbiCoder.encode([\"address\",\"address\",\"int256\",\"int256\"],[mimCollateral,defiAddress,(cvxrencrvBalance).toString(),0]);\n\n        await renBTCToCRV.methods.cookCalling([20,2,4,21],[0,0,0,0],[data_0,data_1,data_2,data_3],true,(_mimBorrowed).toString()).send({from: address, value: 0},(error, txHash) => {\n          if(error){\n            this.logError(error);\n            this.handleClose();\n          }\n          else{\n            this.log(`MIM extracted from your wallet`);\n          }\n        });\n\n        await renBTCToCRV.methods.multiStepWithdraw([maxDeposit.toString(),\"0\"]).send({from: address},(error,txHash)=>{\n          if(error){\n            this.logError(error);\n            this.handleClose();\n          }\n          else{\n            this.log(`Liquidity ${maxDeposit} is extracted.`);\n          }\n        });\n      }\n      else{\n        alert('Please enter correct value');\n        this.handleClose();\n        return;\n      }\n      \n      const renBTC = await new web3.eth.Contract(RENERC20, renAddress,{from: address});\n      await renBTC.methods.approve(contractAddress, maxDeposit).send({from:address},(error,txHash)=>{\n        if(error){\n          this.logError(error);\n          this.handleClose();\n        }\n        else{\n          this.log('Approval: 2/2');\n        }\n      });\n  \n      const recipient = prompt(\"Enter BTC recipient:\");\n      const amount = maxDeposit / (10 ** 8);\n  \n      const burnAndRelease = await renJS.burnAndRelease({\n        asset: \"BTC\",\n        to: Bitcoin().Address(recipient),\n        from: Ethereum(web3.currentProvider).Contract((btcAddress) => ({\n          sendTo: contractAddress,\n    \n          contractFn: \"temporaryBurn\",\n    \n          contractParams: [\n            {\n              type: \"bytes\",\n              name: \"_msg\",\n              value: Buffer.from(`Withdrawing ${amount} BTC`),\n            },\n            {\n              type: \"bytes\",\n              name: \"_to\",\n              value: btcAddress,\n            },\n            {\n              type: \"uint256\",\n              name: \"_amount\",\n              value: renJS.utils.toSmallestUnit(amount, 8),\n            },\n            {\n              type: 'address',\n              name: 'from',\n              value: address\n            }\n          ],\n        })),\n      });\n  \n      let confirmations = 0;\n      \n      await burnAndRelease\n      .burn()\n      // Ethereum transaction confirmations.\n      .on(\"confirmation\", (confs) => {\n        confirmations = confs;\n      })\n      // Print Ethereum transaction hash.\n      .on(\"transactionHash\", (txHash) => this.log(`txHash: ${String(txHash)}`));\n  \n      await burnAndRelease\n        .release()\n        // Print RenVM status - \"pending\", \"confirming\" or \"done\".\n        .on(\"status\", (status) =>\n          status === \"confirming\"\n            ? this.log(`${status} (${confirmations}/15)`)\n            : this.log(status)\n        )\n        // Print RenVM transaction hash\n        .on(\"txHash\", this.log);\n  \n      this.log(`Withdrew ${amount} BTC to ${recipient}.`);\n    }\n    else{\n      alert('Please enter correct value');\n      this.handleClose();\n    }\n    this.handleClose();\n  }\n\n  logError = (error) => {\n  console.error(error);\n  this.setState({error: String((error || {}).message || error)});\n  };\n\n  log = (message) => {\n    this.setState({message});\n  };\n\n  handleClose = () => {\n    this.setState({isOpen: false});\n  };\n\n  handleToggle = () => {\n    const {isOpen}  = this.state;\n    this.setState({isOpen: !isOpen});\n  };\n\n  handleMax = async () => {\n    this.setState({isOpen: true});\n    const {address,web3} = this.state;\n    const renBTCToCRV = await new web3.eth.Contract(MoneyToCurve,defiAddress,{from:address});\n    var mimBorrowed = await renBTCToCRV.methods.mimBorrowed(address).call();\n    var _mimBorrowed = addTwoBigNumbers(mimBorrowed.toString(),(1 * 10 ** 18).toString());\n    const max = _mimBorrowed\n    this.setState({maxDeposit: max/10 ** 18});\n    this.handleClose();\n  }\n\n  handleUserMimBalance = async () => {\n    const {address,web3} = this.state;\n    const mimm = await new web3.eth.Contract(MIM,mimAddress,{from: address});\n    var userMIMBalance = await mimm.methods.balanceOf(address).call();\n    var tokens = new BigNumber(userMIMBalance).dividedBy(10 ** 18);\n    this.setState({userMIMBalance: tokens.toPrecision(26)});\n  }\n\n  // handleExtraMinting = async() => {\n  //   const {address,web3} = this.state;\n  //   const mimm = await new web3.eth.Contract(MIM,mimAddress,{from: address});\n  //   await mimm.methods.__mint(address, web3.utils.toWei('100000000','ether')).send({from: address}, (error, txHash) => {\n  //     if(error){\n  //       this.logError(error);\n  //     }\n  //     else{\n  //       this.log('MIM minted for owner');\n  //     }\n  //   });\n  // }\n\n  handleDetails = (open) =>{\n    this.setState({openDetails: open});\n  }\n\n  render = () => {\n    const { message, error, isOpen ,maxDeposit, userShare, address,userMIMBalance,openDetails} = this.state;\n    return (\n      <AppDiv>\n        <Welcome openDetails={openDetails} \n                 handleDetails={this.handleDetails}/>\n        <Header/>\n        <Balance mimBorrow = {maxDeposit}\n                 handleMax = {this.handleMax}\n                 handleCRVBalance = {this.handleCRVBalance} \n                 deposit = {this.deposit}\n                 withdraw = {this.withdraw}\n                 logError = {this.logError}/>\n\n        <Message msg = {message} err = {error}/>\n\n        <Footer fetch={this.handleFetch} \n                claim={this.handleClaim} \n                userShare={userShare} \n                userAddress={address}\n                userMIMBalance = {userMIMBalance}\n                handleUserMimBalance = {this.handleUserMimBalance}\n                handleDetails={this.handleDetails}/>\n\n        <Backdrop sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\n                  open={isOpen}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      </AppDiv>\n    );\n  };\n\n}\nexport default App;","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport './Welcome.css';\r\n\r\nexport default class Welcome extends Component {\r\n\r\n  handleClose = () => {\r\n  this.props.handleDetails(false);\r\n  }\r\n\r\n  render() {\r\n   \r\n    return (\r\n          <div>\r\n            <Dialog open={this.props.openDetails}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\">\r\n                <DialogTitle id=\"alert-dialog-title\">\r\n                <strong><p id='modalTitle'>{\"Guidelines for using this Dapp\"}</p></strong>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        \r\n                           <strong style={{color:\"#b406c4\"}}>Description of the dapp:</strong><br></br>\r\n                           Deposit BTC to borrow MIM and \r\n                           Repay MIM to get BTC back.\r\n                           <br></br><br></br>\r\n                           <strong style={{color:\"#b406c4\"}}>Instructions:</strong><br></br>\r\n                           You are encouraged to use sufficient funds to use the dapp seamlessly.  <br></br>\r\n                           You are advised to sign transactions as soon as the metamask window pops up.<br></br>\r\n                           1 MIM = 1 USD <br></br>\r\n                           1 cvxrencrv = 42304.3455 MIM <br></br>\r\n                           Collateralization ratio is set to 25% [SAFE] <br></br>\r\n                           Ask admin to provide more MIM to complete repay operation\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions id='buttonFooter'>\r\n                    <Button id='buttonText' onClick={this.handleClose} autoFocus><strong>Close</strong></Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n          </div>\r\n        );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport styled from 'styled-components';\r\nimport CoffeeMakerOutlinedIcon from '@mui/icons-material/CoffeeMakerOutlined';\r\nimport './Header.css';\r\n\r\nconst AppHeader = styled.header`\r\n    min-height: 16vh;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #b406c4;\r\n    font-family: monospace;\r\n`;\r\n\r\nexport default class Header extends Component {\r\n    render() {\r\n        return (\r\n            <AppHeader>\r\n            <div style={{display: \"contents\"}}>\r\n                <CoffeeMakerOutlinedIcon sx={{ fontSize: 40 }}/>   \r\n                <h3><strong>Brew BTC to get MIM</strong></h3>              \r\n            </div>\r\n            </AppHeader>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport { styled } from '@mui/material/styles';\r\nimport TextField from '@mui/material/TextField';\r\nimport Alert from '@mui/material/Alert';\r\n\r\nimport { Container } from '@mui/material';\r\nimport './Balance.css';\r\n\r\nconst CssTextField = styled(TextField)({\r\n    '& label.Mui-focused': {\r\n    color: '#b406c4',\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n    borderBottomColor: '#b406c4',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n    '& fieldset': {\r\n        borderColor: '#b406c4',\r\n    },\r\n    '&:hover fieldset': {\r\n        borderColor: '#b406c4',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n        borderColor: '#b406c4',\r\n    },\r\n    },\r\n});\r\n\r\nexport default class Balance extends Component {\r\n    constructor (props){\r\n      super(props);\r\n      this.textInput = React.createRef();\r\n      this.state ={\r\n        balance : '0.003',\r\n        errorMsg:'',\r\n        showAlert: false,\r\n      };\r\n    }\r\n    \r\n    getBalance = async (event) => {\r\n        if(event.target.value < 0){\r\n            this.setState({errorMsg: 'Please enter appropriate balance',showAlert : true});\r\n        }\r\n       await this.setState({balance: event.target.value});\r\n       console.log(this.state.balance); \r\n    }\r\n    \r\n    handleDeposit = () => {\r\n        const {balance} = this.state;\r\n        this.props.deposit(balance).catch(this.props.logError)\r\n    }\r\n\r\n    handleWithdraw = () =>{\r\n       //console.log(\"Inside withdraw: \"+ this.textInput.current.value);\r\n       this.props.withdraw(this.textInput.current.value).catch(this.props.logError)\r\n    }\r\n\r\n    handleClick = async(e) => {\r\n        e.preventDefault();\r\n        await this.props.handleMax();\r\n        this.textInput.current.value = this.props.mimBorrow;\r\n        console.log(\"this.textInput.current.value: \" + this.textInput.current.value);\r\n    }\r\n    closeAlert = () => {\r\n        this.setState({showAlert: false});\r\n    }\r\n\r\n    render() {\r\n        const {balance, showAlert , errorMsg} = this.state;\r\n        return (\r\n            <Container>\r\n            { showAlert ? <Alert severity=\"error\" className='alertClass' onClose={this.closeAlert}>{errorMsg}</Alert> : null }\r\n                <div className='justify-content-around Div'>\r\n                    <div className='mainDiv'>\r\n                      <h5 className='H5'>Deposit BTC to Borrow MIM</h5>\r\n                      <div style = {{ justifyContent: \"space-evenly\",\r\n                                      display: 'flex'}}>\r\n                      <CssTextField label=\"Enter Amount\" \r\n                                    className=\"depositAmt\"\r\n                                    type=\"number\" \r\n                                    defaultValue={0.003}\r\n                                    onChange = {this.getBalance}\r\n                                    size=\"small\"/>\r\n                      </div>\r\n                       <div style = {{textAlign: 'center'}} className='buttonDiv'> \r\n                        <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                                onClick={this.handleDeposit}>\r\n                                <strong>Deposit {balance} BTC</strong>\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n\r\n                   <div className='mainDiv'>\r\n                        <h5 className='H5'>Repay MIM to Withdraw BTC</h5>\r\n                        <div style= {{display: 'flex',justifyContent: 'center'}}>\r\n                        <CssTextField   inputRef={this.textInput}\r\n                                        label=\"Enter Amount\" \r\n                                        className=\"withdrawAmt\"\r\n                                        type=\"number\" \r\n                                        size=\"small\"\r\n                                        defaultValue={this.props.mimBorrow}\r\n                                        style = {{marginRight: '0.5rem'}}  />\r\n                    \r\n                        <Button variant=\"outlined\" className='maxButton'\r\n                                color=\"secondary\" size=\"small\"\r\n                                onClick={this.handleClick} \r\n                                disabled={this.props.disable}><strong>Max</strong></Button>\r\n                        </div>\r\n                        <div style = {{textAlign: 'center'}} className='buttonDiv'>\r\n                            <Button variant=\"contained\" color=\"secondary\" size=\"small\"\r\n                                    onClick={this.handleWithdraw}\r\n                                    disabled={this.props.disable}>\r\n                                <strong>Withdraw BTC</strong>\r\n                            </Button>\r\n                        </div>\r\n                   </div>\r\n                </div>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport styled from 'styled-components';\r\nimport { Container } from '@mui/material';\r\n\r\nconst Div = styled.div`\r\n    margin-top: 50px;\r\n    text-align: center;\r\n    justify-content: center;\r\n    border: 1px solid #b406c4;\r\n    border-radius: 10px;\r\n    margin-left : 50px;\r\n    margin-right: 50px;\r\n    margin-bottom: 30px;\r\n`;\r\nexport default class Message extends Component {\r\n    render() {\r\n\r\n        const {msg, err} = this.props;\r\n        return (\r\n            <Container>\r\n                <Div className='justify-content-center'>\r\n                    <p>Status Information</p>\r\n                    {msg.split(\"\\n\").map((line) => (\r\n                    <p key={uuidv4()}>{line}</p>\r\n                    ))}\r\n                    {err ? <p style={{ color: \"red\" }}>{err}</p> : null}\r\n                </Div>\r\n            </Container>\r\n\r\n            \r\n\r\n            \r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\n\r\n\r\nimport './Footer.css';\r\n\r\nexport default class Footer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            value: '',\r\n            displayData:'',\r\n        }\r\n    }\r\n\r\n    handleChange = async (event,newValue) => {\r\n      this.setState({value: newValue});\r\n      if(newValue === 0){\r\n          this.setState({displayData: 'MIM: 0xd8e49E22C250B71aB479f93b6a95eA0dA575B758'});\r\n      }\r\n      else if(newValue === 1){\r\n            await this.props.handleUserMimBalance();\r\n            this.setState({displayData: this.props.userMIMBalance +' MIM'});\r\n      }\r\n      else if(newValue === 2){\r\n        this.setState({displayData: \"My address: \" + this.props.userAddress});\r\n      }\r\n      else{\r\n          this.props.handleDetails(true);\r\n      }\r\n    }\r\n\r\n\r\n    render() {\r\n        const {value,displayData} = this.state;\r\n        return (\r\n                <Box sx={{ width: 500 }}>\r\n                    <span className='details'>{displayData}</span>\r\n                <BottomNavigation showLabels value={value} onChange = {this.handleChange}>\r\n                    <BottomNavigationAction label=\"MIM address\" icon={<HomeIcon />}/>\r\n                    <BottomNavigationAction label=\"Check MIM Balance\" icon={<AccountBalanceWalletIcon />}/>\r\n                    <BottomNavigationAction label=\"My address\" icon={<PersonIcon />}/>\r\n                    <BottomNavigationAction label=\"Details\" icon={<SettingsIcon />}/>\r\n                </BottomNavigation>\r\n                </Box>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}